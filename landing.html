<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stay Updated on Interactive Launch</title>

  <!-- Font Inter e CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- NAVBAR -->
  <header>
    <div class="logo">
      <a href="index.html" class="home-link">
        <img src="assets/logo.svg" alt="Interactive Logo" width="40" height="40">
        <span>Interactive</span>
      </a>
    </div>
    <nav>
      <ul>
        <li><a href="careers.html">Careers</a></li>
        <!-- Cambiato a contacts.html per "Get in Touch" -->
        <li><a href="contacts.html">Get in Touch</a></li>
        <li><a href="landing.html" class="btn-signup">Sign Up</a></li>
      </ul>
    </nav>
  </header>

  <!-- HERO SECTION -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="highlight">Stay Updated on Interactive Launch</h1>
      <p>Be the first to know when our interactive platform is available for you to join.</p>

      <form id="signup-form">
        <input type="email" name="email" id="signup-email" placeholder="Enter your email" required>
        <button type="submit">Sign Up</button>
      </form>

      <p style="margin-top:1rem; font-size:0.9rem; color: #fff;">
        By clicking Sign Up, you agree to our 
        <a href="terms.html" style="color:#ffd400;">Terms and Conditions</a>.
      </p>
    </div>
  </section>

  <!-- FOOTER -->
  <section class="final-section">
    <div class="brand-subscribe">
      <div class="brand-block">
        <div class="brand-icon">
          <img src="assets/logo.svg" alt="Icon" width="60" height="60">
        </div>
        <div class="brand-text">
          Interactive
        </div>
      </div>

      <div class="subscribe-block">
        <label for="subscribe-l">Subscribe</label>
        <div class="subscribe-row">
          <!-- Bottone Subscribe => landing.html -->
          <input type="email" id="subscribe-l" placeholder="Enter your email">
          <button onclick="location.href='landing.html';">Subscribe</button>
        </div>
        <p class="subscribe-small">
          By subscribing you agree to our 
          <a href="terms.html" style="color:#000;">Privacy Policy</a>.
        </p>
      </div>
    </div>
    <hr class="footer-line">

    <div class="footer-bottom">
      <div class="footer-links">
        <!-- Tutti i link a terms.html -->
        <a href="terms.html">Privacy Policy</a>
        <a href="terms.html">Terms of Service</a>
        <a href="terms.html">Cookies Settings</a>
      </div>
      <!-- Rimosso Â© 2024 Relume. All rights reserved. -->
    </div>
  </section>

  <!-- SCRIPT per la POST al server -->
  <script>
    // Get the backend URL from environment or use a default
    const BACKEND_URL = window.location.hostname === 'localhost' 
      ? 'http://localhost:3000'
      : 'https://server-eq4i.onrender.com';

    document.getElementById("signup-form").addEventListener("submit", function(e) {
      e.preventDefault();
      const email = document.getElementById("signup-email").value;
      
      console.log('Attempting to send email to:', BACKEND_URL);

      fetch(`${BACKEND_URL}/signup`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Accept": "application/json"
        },
        body: JSON.stringify({ email: email })
      })
      .then(response => {
        console.log('Response status:', response.status);
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
      })
      .then(data => {
        console.log('Success:', data);
        alert("Thanks for signing up with " + email);
        document.getElementById("signup-email").value = "";
      })
      .catch(error => {
        console.error("Error details:", error);
        alert("There was an error signing up. Please try again later. Error: " + error.message);
      });
    });
  </script>
</body>
</html>
